@page "/example/pie/half-donut"
@using Vizor.ECharts.Options;
@using Vizor.ECharts.Options.Series.Pie;

<Vizor.ECharts.EChart TData="PieNameValue" Options="@options" Width="400px" Height="400px" />

@code {

	// see https://echarts.apache.org/examples/en/editor.html?c=pie-half-donut

	private ChartOptions<PieNameValue> options = new()
	{
		Title = new()
		{
			Text = "Referer of a Website",
			SubText = "Fake Data",
			Left = "center"
		},
		Tooltip = new()
		{
			Trigger = TooltipTrigger.Item
		},
		Legend = new()
		{
			Top = "5%",
			Left = "center",
			SelectedMode = SelectionMode.False
		},
		Series = new()
			{
				new PieSeries<PieNameValue>()
				{
					Name = "Access From",
					Radius = new PieRadius("40%", "70%"),
					Center = new PieCenter("50%", "70%"),
					StartAngle = 180,
					Label = new()
					{
						Show = true,
						//TODO: formatter
					},
					Data = new List<PieNameValue>()
					{
						new() { Value = 1048, Name = "Search Engine" },
						new() { Value = 735, Name = "Direct" },
						new() { Value = 580, Name = "Email" },
						new() { Value = 484, Name = "Union Ads" },
						new() { Value = 300, Name = "Video Ads" },
						new() {
							// make an record to fill the bottom 50%
							Value = 1048 + 735 + 580 + 484 + 300,
							Options = new()
							{
								ItemStyle = new()
								{
									Color = new("none"),
									//TODO: decal
								},
								Label = new()
								{
									Show = false
								}
							}
						}
					}
				}
			}
	};
}